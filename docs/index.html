<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>FinSexy</title>
  <link rel="shortcut icon" type="image/x-icon" href="./assets/kiss.png" id="favicon">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta name="description" content="ðŸ’‹ Chat with sexy findoms ðŸ¥µ Send until it hurts ðŸ’¸ (18+) ðŸ”ž">
  <meta name="keywords" content="finsexy, chatbots, ai, stable diffusion, text adventure, rpg, steviep, steve pikelny, pikelny, crypto, ethereum, nft, nfts, blockchain, bitcoin">

  <meta name="twitter:image" content="https://finsexy.com/assets/thumbnail.png">
  <meta name="twitter:image:alt" content="WARNING! The SEXY FINDOMS on this website will SUCK your wallet dry. Proceed at your own risk.">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:creator" content="@steviepxyz">
  <meta name="twitter:site" content="@steviepxyz">
  <meta property="twitter:description" content="ðŸ’‹ Chat with sexy findoms ðŸ¥µ Send until it hurts ðŸ’¸ (18+) ðŸ”ž">

  <meta name="og:image" property="og:image" content="https://finsexy.com/assets/thumbnail.png">
  <meta name="og:image:alt" content="WARNING! The SEXY FINDOMS on this website will SUCK your wallet dry. Proceed at your own risk.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://finsexy.com/">
  <meta property="og:title" content="FinSexy.com">
  <meta property="og:site_name" content="FinSexy">
  <meta property="og:description" content="ðŸ’‹ Chat with sexy findoms ðŸ¥µ Send until it hurts ðŸ’¸ (18+) ðŸ”ž">


  <link rel="stylesheet" type="text/css" href="./styles.css">


  <style type="text/css">
    body {
      animation: FadeIn 0.25s linear;
    }

    .fadein {
      animation: FadeIn 0.25s linear;
    }
    main {
      display: flex;
    }


    h2 {
      font-family: var(--fancy-font);
      line-height: 1.1;
      font-size: 2em;
      text-shadow: 0 0 2px var(--dark-color), 0 0 5px var(--medium-color), 0 0 8px var(--border-color);
      text-decoration: none;
      color: var(--light-color);
      text-align: center;
      margin: 1em 0;
      padding: 0 1em;
    }

    h3 {
      font-size: 0.8em;
    }


    a {
      color: var(--light-color);
      text-decoration: none;
      max-width: 300px;
      /*min-width: 280px;*/
      width: 100%;
      aspect-ratio: 1/1;
      /*height: 280px;
      width: 280px;*/
      overflow: hidden;
    }

    details a {
      color: var(--light-link-color);
      text-shadow: 1px 1px 1px var(--secondary-color), -1px 0px 3px var(--secondary-color);
      transition: 200ms;
      text-decoration: underline;
    }

    details a:hover {
      text-decoration: none;
      text-shadow: 2px 2px 2px var(--secondary-color), -2px 0px 5px var(--secondary-color);
    }

    table {
      border-spacing: 1px;
    }

    td {
      padding: 0.5em;
    }

    footer {
      font-size: 8px;
    }

    summary {
      cursor: pointer;
    }

    p {
      font-size: 0.9em;
    }

    select {
      padding: 0.25em;
      font-size: 0.8em;
      color: var(--light-color);
      background: var(--input-color);
      border:  1px solid var(--border-color);
    }

    select {
      cursor: pointer;
    }


    select:active,
    select:focus {
      box-shadow: inset 0 0 3px var(--primary-color);
      outline: none;
      border-color: var(--primary-color);
      /*box-sizing: border-box;*/
    }

    main > section {
      /*box-shadow: inset 0 0 15px var(--gray-color);*/
    }

    h4 {
      margin-top: 1em;
      font-size: 1.1em;
      text-align: center;
    }

    h4 a {
      color: var(--medium-color);
      text-decoration: underline;
    }
    h4 a:hover {
      text-decoration: none;
    }

    .filter {
      border-right: 1px solid var(--border-color);
      width: 320px;
    }

    .filter > * {
      padding: 1em;
    }

    .filterRow {
      margin-bottom: 1em;
    }
    .filterRow h3 {
      margin-bottom: 0.5em;
    }

    .filter, .mainSection {
      height: calc(100vh - 60px);
      overflow-y: scroll;
    }

    .filterRow button {
      color: var(--medium-color);
      border: 1px solid;
      background: var(--bg-color);
      transition: 0.3s;
      display: inline-block;
      margin-bottom: 0.5em;
      margin-bottom: 0.5em;
    }

    .filterRow button:hover, .filterRow button:active, .filterRow button:focus {
      color: var(--medium-color);
      background: var(--light-color);
      border-color: var(--light-color);
      outline: none;
      text-shadow: 0.5px 0.5px 0 var(--secondary-color);
      color: var(--primary-color);

    }
    .filterRow button:active {
      opacity: 0.8;
    }

    .filterRow button.activeFilter, .filterRow button.activeFilter:active {
      color: var(--light-color);
      background: var(--primary-color);
      border-color: var(--primary-color);
      text-shadow: 1px 1px 3px var(--dark-color);
    }


    #connectedAs, #balance, #membershipStatus, #membershipStatus a, #creditBalance, .goldStatus {
      font-family: var(--code-font);
      color: var(--medium-color);
    }

    #membershipStatus a:hover {
      text-decoration: underline;
    }

    .goldStatus {
      color: var(--yellow-color);
      text-shadow: 0 0 7px var(--yellow-color);
    }

    .mainSection {
      flex: 1;
    }


    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr 1fr;
      column-gap: 1vw;
      row-gap: 1.5vw;
      padding: 1.5vw;
      padding-top: 0;
    }

    .a11ymode .grid {
      grid-template-columns: 1fr 1fr 1fr;
    }
    .grid article {
      display: flex;
      flex-direction: column;
      border: 1px solid var(--border-color);
      transition: 0.25s;
      box-shadow: 0 0 0.625em var(--border-color);
      filter: saturate(100%);
      transition: 0.3s;
    }

    .grid article:hover {
      color: var(--light-color);
      border-color: var(--primary-color);
      filter: saturate(125%);
      box-shadow: 0 0 1em var(--primary-color);
    }
    .grid article, img {
      border-radius: 3px;
    }

/*
    .grid article::after {
      transition: 0.3s;
      pointer-events: none;
      transition: 0.25s;
      content: '';
      display: block;
      position: absolute;
      top: 0;
      height: 100%;
      width: 100%;
      box-shadow: inset 0 0 0em rgba(0,0,0,0);
    }
    .grid article:hover::after {
      box-shadow: inset 0 0 1em var(--primary-color);
    }
*/
    .grid img {
      width: 100%;
      display: block;
    }

    .grid figcaption {
      /*margin-left: 1px;*/

      pointer-events: none;
      height: 0;
    }
    .grid figcaption > * {
      margin-top: -3.65em;
      width: calc(100% - 16px);
      background: linear-gradient(0deg, var(--dark-fade-color) 17%, rgba(255,0,0,0) 100%);
      text-shadow: -1px -1px 1px var(--dark-color);
      padding: 0.5em;
      padding-top: 2em;
      display: flex;
      align-items: center;
      border-bottom-left-radius: 3px;
      border-bottom-right-radius: 3px;
      /*margin-top: -0.6em;*/
    }

    .age {
      padding-left: 0.4em;
      width: 0;
    }


    .hidden {
      display: none !important;
    }

    .filter-f .display-m,
    .filter-f .display-nb {
      display: none;
    }

    .filter-m .display-f,
    .filter-m .display-nb {
      display: none;
    }

    .filter-nb .display-m,
    .filter-nb .display-f {
      display: none;
    }


    .dom-filter-roleplay .dom-display-protocol,
    .dom-filter-roleplay .dom-display-hard,
    .dom-filter-roleplay .dom-display-soft,
    .dom-filter-roleplay .dom-display-other {
      display: none;
    }

    .dom-filter-protocol .dom-display-roleplay,
    .dom-filter-protocol .dom-display-hard,
    .dom-filter-protocol .dom-display-soft,
    .dom-filter-protocol .dom-display-other {
      display: none;
    }

    .dom-filter-hard .dom-display-protocol,
    .dom-filter-hard .dom-display-roleplay,
    .dom-filter-hard .dom-display-soft,
    .dom-filter-hard .dom-display-other {
      display: none;
    }

    .dom-filter-soft .dom-display-protocol,
    .dom-filter-soft .dom-display-hard,
    .dom-filter-soft .dom-display-roleplay,
    .dom-filter-soft .dom-display-other {
      display: none;
    }

    .dom-filter-other .dom-display-protocol,
    .dom-filter-other .dom-display-hard,
    .dom-filter-other .dom-display-soft,
    .dom-filter-other .dom-display-roleplay {
      display: none;
    }


    .mobileFilter {
      display: none;
    }

    #infoMobile h2, #infoSideBar h2 {
      margin-bottom: 0.5em;
    }

    #infoMobile {
      display: none;
      padding: 1em;
    }
    #infoMobile > * {
      max-width: 400px;
      margin: auto;
    }

    @media (max-width: 1439px) {
      .grid {
        grid-template-columns: 1fr 1fr 1fr;
      }
    }

    @media (max-width: 1150px) {
      .grid, .a11ymode .grid {
        grid-template-columns: 1fr 1fr;
      }
      h2 {
        font-size: 1.75em;
      }
    }


    @media (max-width: 950px) {
      .filter {
        display: none;
      }

      #infoMobile {
        display: initial;
        margin-top: 1em;
      }
      #infoMobile h2 {
        margin-top: 1em;
        margin-bottom: 0.5em;

      }
      #infoMobile h4 {
        margin-top: 1em;
      }

      .mobileFilter {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 1em;
        width: 100%;
      }

      .mobileFilter > * {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .mobileFilter > *:first-child {
        margin-right: 2em;
      }
      .mobileFilter > * h3 {
        margin-right: 0.5em;
      }

      .grid {
        grid-template-columns: 1fr 1fr 1fr;
        padding: 0 1em;
      }
      h2 {
        font-size: 2em;
      }
    }


    @media (max-width: 780px) {
      .grid {
        grid-template-columns: 1fr 1fr;
      }

      h2 {
        font-size: 1.75em;
      }
    }

    @media (max-width: 560px) {
      .a11ymode .grid {
        grid-template-columns: 1fr;
      }

      .a11ymode a {
        max-width: 330px;
      }
    }
    @media (max-width: 450px) {
      a {
        max-width: 330px;
      }
      .grid {
        grid-template-columns: 1fr;
        padding: 0 0.75em;
      }
      h2 {
        font-size: 1.5em;
      }

      .mobileFilter > * {
        flex-direction: column;
      }
      .mobileFilter > * h3 {
        margin-bottom: 0.25em;
      }

      .mobileFilter > * h3 {
        margin-bottom: 0.25em;
        margin-right: 0;
      }

      #infoMobile > * {
        max-width: calc(100vw - 2.3em);
      }
    }

    .flexSize {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;

    }

    .hidden {
      display: none;
    }

    .unreadContainer {
      position: relative;
      height: 0;
      top: 0;
    }

    .unreadMessage {
      background:linear-gradient(180deg, var(--primary-color) 17%, rgba(255,0,0,0) 100%);
      height: 2em;
      padding: 0.25em;
      color: var(--light-color);
      text-shadow: 0 0 2px #000;
      text-align: center;
      pointer-events: none;
      border-radius: 2px;

    }

    .offline {
      opacity: 0.65;
      filter: saturate(0.4) !important;
    }
    .online {
      height: 0.5em;
      width: 0.5em;
      margin-right: 0.35em;
      border-radius: 100%;
      background: var(--green-color);
      display: inline-block;
      animation: BlinkOnline 4s linear infinite;
    }



    /* .grid article {
      display: flex;
      flex-direction: column;
      transition: 0.25s;
    }

    .grid article:hover {
    }*/
    .pulsing {
      animation: Pulse 5s linear infinite;
      transition: 0.3s;
    }
    .pulsing .unreadMessage {
      animation: PulseMsg 5s linear infinite;
    }

    .pulsing::after {
      animation: Pulse 5s linear infinite;
    }

    .pulsing:hover {
      animation: none;
    }

    .pulsing:hover .unreadMessage {
      background:linear-gradient(180deg, var(--primary-color) 17%, rgba(255,0,0,0) 100%);
    }


    .grid article.sponsor {
      border-color: var(--medium-color);
      outline: 2px solid var(--medium-color);
    }
    .sponsor img {
      filter: invert(1)
    }
    .sponsor figcaption {
      filter: invert(0);
    }

    .sposoredContent {
      filter: invert(0);
      position: relative;
      height: 0;
      top: 0;
      overflow: visible;
      z-index: 5;
    }
    .sposoredContent * {
      padding: 0.25em;
      text-align: center;
      color: var(--medium-color);
      text-shadow: 1px 1px 0 var(--dark-color), 0px 0px 3px var(--dark-color), 1px 1px 5px var(--secondary-color);
      pointer-events: none;
    }


    @keyframes Pulse {
      0%, 100% {
        color: var(--light-color);
        box-shadow: 0 0 0.625em var(--border-color);
        border: 1px solid var(--border-color);
      }
      50% {
        color: var(--medium-color);
        border-color: var(--primary-color);
        filter: saturate(125%);
        box-shadow: 0 0 3em var(--primary-color), inset 0 0 2em var(--primary-color);
       }
    }
    @keyframes PulseMsg {
      0%, 100% {
        opacity: 0.75;
      }

      50% {
        opacity: 1;
      }
    }

    @keyframes BlinkOnline {
      0%, 60%, 100% {
        opacity: 1;
      }

      80% {
        opacity: 0.2;
      }
    }

    .mainSection, .filter > * {
      /*margin-top: 60px;*/
    }

    sexy-header {
      width: 100vw;
      z-index: 10;
      box-shadow: 0 0 5px var(--gloss-color);
    }



    #tributes td {
      font-family: var(--code-font);
      outline: 1px solid var(--light-color);
    }
    #tributes td a:hover {
      transition: 0.2s;
      color: var(--primary-color);
    }



    .faq {
      border: 1px solid var(--border-color);
    }
    .faq + .faq {
      border-top: 0;
    }

    .faqQ {
      /*border-bottom: 1px solid var(--border-color);*/
      /*background: var(--gray-color);*/
      /*cursor: pointer;*/
      transition: 0.15s;
    }
    .faqQ:hover {
      color: var(--medium-color);
    }

    .faqQ, .faqA {
      padding: 0.75em;
    }

    .faqA {
      padding-left: 2em;
      padding-bottom: 1.25em;
    }



  </style>


  <script src="./utils.js"></script>
  <script type="module" src="./state/all.js"></script>
  <script type="module" src="./components/all.js"></script>

</head>

<body class="fadein">
  <sexy-header></sexy-header>


  <main>
    <aside class="filter">
      <div>
        <connect-wallet>
          <div slot="connected">
            <div class="filterRow"><h3>Connected As</h3> <div id="connectedAs">-</div></div>
            <div class="filterRow"><h3>Membership Status</h3> <div id="membershipStatus">-</div></div>
            <div class="filterRow"><h3>ETH Remaining</h3> <div id="balance">-</div></div>
            <div class="filterRow" id="creditBalanceRow" class="hidden"><h3>SexyCredits Remaining</h3> <div id="creditBalance">-</div></div>
          </div>

          <div slot="connectionError" class="error">

          </div>
        </connect-wallet>

        <div class="filterRow">
          <h3>Show Me</h3>
          <button id="all-filterButton">Everyone</button>
          <button id="m-filterButton">Men</button>
          <button id="f-filterButton">Women</button>
          <button id="nb-filterButton">Other</button>
        </div>


        <div class="filterRow">
          <h3>Dom Type</h3>
          <button id="dom-all-filterButton">All</button>
          <button id="dom-roleplay-filterButton">Role-Play</button>
          <button id="dom-protocol-filterButton">Protocol</button>
          <button id="dom-hard-filterButton">Hard</button>
          <button id="dom-soft-filterButton">Soft</button>
          <button id="dom-other-filterButton">Other</button>
        </div>




        <connect-wallet>
          <div slot="connected">
            <div class="filterRow hidden" id="tributeSection">
              <h3 id="tributeTitle">Tributes Paid</h3>
              <table id="tributes"><tr><td>Loading...</td></tr></table>
            </div>
          </div>
        </connect-wallet>


        <div id="infoSideBar">
          <h2>FAQs</h2>


          <details class="faq">
            <summary class="faqQ">What is FinDom?</summary>
            <p class="faqA">FinDom is short for "Financial Domination". It's the hot new internet fetish where consenting adults can submit to sexy doms. Submissives (or "paypigs") typically get aroused by paying their findoms cryptocurrency, being humiliated, and roleplaying scenerios in which they engage in power exchange.</p>
          </details>

          <details class="faq">
            <summary class="faqQ">Who created FinSexy?</summary>
            <p class="faqA">FinSexy was founded by <a href="./doms/steviep">@steviep</a> on 6/9 2024. He continues to act as the company's CEO, CTO, CFO, and COO.</p>
          </details>

          <details class="faq">
            <summary class="faqQ">Do FinSexy findoms use LLMs?</summary>
            <p class="faqA">No. All FinSexy findoms are 100% LLM-free!</p>
          </details>

          <details class="faq">
            <summary class="faqQ">How do I send findoms money?</summary>
            <p class="faqA">You can send any FinSexy findom Ethereum by connecting your web3 wallet, navigating to their profile page, and locating the "send module" underneath their profile picture. FinSexy findoms primarily accept Ethereum as payment. You can also buy <a href="./doms/steviep">@steviep</a> a gift from his <a href="https://www.amazon.com/hz/wishlist/ls/1THBQMMLZZ7YC?ref_=wl_share" target="_blank" rel="nofollow">wishlist</a>.</p>
          </details>


          <details class="faq">
            <summary class="faqQ">What is a web3 wallet?</summary>
            <p class="faqA">A web3 wallet, such as <a href="https://metamask.io/" target="_blank" rel="nofollow">MetaMask</a> or <a href="https://rainbow.me/" target="_blank" rel="nofollow">Rainbow</a>, allows you to reliably access blockchain data, securely store Ethereum, verify your identity, safely send to FinSexy findoms. </p>
          </details>


          <details class="faq">
            <summary class="faqQ">Is my data secure?</summary>
            <p class="faqA">Yes! All of your data stays completely between you and your findom, and never touches a sexy server. If anyone asks you to "copy your state" from a secret developer panel, DO NOT LISTEN TO THEM. This person wants to steal your data.</p>
          </details>


          <details class="faq">
            <summary class="faqQ">Do FinDoms accept FastCash?</summary>
            <p class="faqA">Yes! All FinSexy findoms accept FastCash in tips. However, the FinSexy automated payment system might not notify them in a timely manner. To learn more about FastCash, visit <a href="https://fastcashmoneyplus.biz" target="_blank">http://fastcashmoneyplus.biz</a>.</p>
          </details>


          <details class="faq">
            <summary class="faqQ">What do I do if I have an unhealthy relationship with FinDom?</summary>
            <p class="faqA">If you have an unhealthy relationship with Financial Domination, please contact out staff therapist, <a href="./doms/DrAndy">@DrAndy</a>.</p>
          </details>

          <details class="faq">
            <summary class="faqQ">Where can I purchase official FinSexy merch?</summary>
            <p class="faqA">Official FinSexy merch can br purchased on <a href="https://ronamerch.co" target="_blank">RonaMerch.co</a>! For more information, talk to <a href="./doms/RonaMerch">@RonaMerch</a></p>
          </details>
          <h4>
            Follow on: <a target="_blank" rel="nofollow" href="https://twitter.com/steviepxyz" style="color: var(--light-link-color);">twitter</a> | <a target="_blank" rel="nofollow" href="https://discord.steviep.xyz" style="color: var(--light-link-color);">discord</a>
          </h4>


          <h4 style="margin: 2em auto">
            <a target="_blank" href="/terms">Sexy Terms of Service</a>
          </h4>
        </div>


        <!--
          FAQs
            What is FinDom?
            How does finsexy work?
            How do I send FinSexy Doms ETH?

            Do FinDoms accept <a>FastCash</a>?

            how do I connect my wallet?
            What do I do if I have an unhealthy problem with FinDom?

          Terms of Service
          Technical Support
          (c) steviep.xyz


         -->


      </div>
    </aside>
    <section class="mainSection">
      <div class="flexSize">
        <h2>Which sexy findom do you want to take your money?</h2>
        <div class="mobileFilter">
          <div>
            <h3>Show Me</h3>
            <select id="interested">
              <option value="all" selected>Everyone</option>
              <option value="m">Men</option>
              <option value="f">Women</option>
              <option value="nb">Other</option>
            </select>
          </div>

          <div>
            <h3>Dom Type</h3>
            <select id="domInterested">
              <option value="all" selected>All</option>
              <option value="roleplay">Role-Play</option>
              <option value="protocol">Protocol</option>
              <option value="hard">Hard</option>
              <option value="soft">Soft</option>
              <option value="other">Other</option>
            </select>
          </div>
        </div>

        <section id="links" class="grid">
        </section>
      </div>

      <div id="infoMobile"></div>
      <footer class="mainFooter"><a href="https://steviep.xyz" target="_blank">steviep.xyz</a> (c) 2024</footer>

    </section>
  </main>

  <sexy-modal id="profileModal" blur="true" >
    <sexy-user-profile slot="content"></sexy-user-profile>
  </sexy-modal>

</body>




<script type="module">

  import {ls, $} from './$.js'
  import {provider} from './eth.js'
  import {MessageHandler, ProfileStats, tributesPromise} from './state/all.js'
  import {defaultProfileLS} from './state/profile.js'


  $.id('infoMobile').innerHTML = $.id('infoSideBar').innerHTML

  const $profileModal = $.id('profileModal')

  if (!ls.get('profileCompleted')) {
    $profileModal.open()
  }


function domTypeDisplayClass(str) {
  let s
  if (['Role-Play', null].includes(str)) s = 'roleplay'
  else if (str === 'Protocol') s = 'protocol'
  else if (['Hard', 'Sadist'].includes(str)) s = 'hard'
  else if (['Soft', 'Service'].includes(str)) s = 'soft'
  else s = 'other'

  return `dom-display-${s}`
}


  $.id('links').innerHTML = Object.keys(MessageHandler.chats)
  .filter(name => (
    MessageHandler.visibilityCtx[name] !== 'hidden'
    && (name !== 'heatherHot' || !MessageHandler.globalCtx.hideHeather)
  ))
  .map((name, i) => {
    const {domType, sponsor, display, order, age} = ProfileStats[name]
    const visibility = MessageHandler.visibilityCtx[name]

    return `
      <article
        id="${name}-link"
        class="domView ${domTypeDisplayClass(domType)} ${display ? 'display-' + display : 'hidden'} ${visibility === 'offline' ? 'offline' : ''} ${sponsor ? 'sponsor' : ''}"
        style="order: ${order}"
      >
        <div class="unreadContainer">
          <div id="${name}-unread" class="unreadMessage hidden">New Message!</div>
        </div>

        ${sponsor
            ? `
                <div class="sposoredContent">
                  <div>SPONSORED CONTENT</div>
                </div>
              `
            : ''
        }

        <a href="./doms/${name}" class="domViewLink">
          <img src="./thumbnails/${name}/0.png" alt="Sexy findom ${name}">
        </a>
        <figcaption>
          <div>${visibility === 'online' ? `<span class="online"></span>` : ''}<div class="domName">${ellipse(name, 22)},</div> <span class="age">${age}</span></div>
        </figcaption>
      </article>
    `
  }).join('')


  setInterval(() => {
    Object.keys(MessageHandler.chats).forEach(name => {
      if (MessageHandler.chats[name].ctx.unread) {
        $.id(`${name}-unread`)?.classList?.remove('hidden')
        $.id(`${name}-link`)?.classList?.add('pulsing')
      } else {
        $.id(`${name}-unread`)?.classList?.add('hidden')
        $.id(`${name}-link`)?.classList?.remove('pulsing')

      }
    })
  }, 200)



  function setFilter(f) {
    ['all', 'm', 'f', 'nb'].forEach(g => {
      if (g === f) {
        $.id('links').classList.add(`filter-${g}`)
        $.id(`${g}-filterButton`).classList.add('activeFilter')
        $.id('interested').value = f
      } else {
        $.id('links').classList.remove(`filter-${g}`)
        $.id(`${g}-filterButton`).classList.remove('activeFilter')
      }
    })



    // defaultProfileLS.set('interested', f)
  }
  setFilter(defaultProfileLS.get('interested') || 'all')


  ;['all', 'm', 'f', 'nb'].forEach(g => {
    $.id(`${g}-filterButton`).onclick = () => setFilter(g)
  })

  $.id('interested').onchange = e => {
    setFilter(e.target.value)
  }

  const domTypes = ['all', 'roleplay', 'protocol', 'soft', 'hard', 'other']

  function setDomType(t) {
    domTypes.forEach(d => {
      if (d === t) {
        $.id('links').classList.add(`dom-filter-${d}`)
        $.id(`dom-${d}-filterButton`).classList.add('activeFilter')
        $.id('domInterested').value = d
      } else {
        $.id('links').classList.remove(`dom-filter-${d}`)
        $.id(`dom-${d}-filterButton`).classList.remove('activeFilter')
      }
    })

    // defaultProfileLS.set('domPreference', t)
  }
  setDomType(defaultProfileLS.get('domPreference') || 'all')

  domTypes.forEach(t => {
    $.id(`dom-${t}-filterButton`).onclick = () => setDomType(t)
  })

  $.id('domInterested').onchange = e => {
    setDomType(e.target.value)
  }




    provider.onConnect(async (addr, network) => {
      $.id('connectedAs').innerHTML = await provider.formatAddr(addr, true,31)

      if (network) {
        $.id('balance').innerHTML = `${(await provider.getETHBalance(addr)).toFixed(4)} ETH` + (
          network.chainId === 1 ? '' : ` [${network.name.toUpperCase()}]`
        )
      }

      const activeVIP = await sexyCLIT.getActiveVIP()
      if (activeVIP != null) {
        const { SexyVIP } = await provider.sexyContracts()
        const activeIsGold = await SexyVIP.isGold(activeVIP)
        const creditBalance = await SexyVIP.creditBalance(activeVIP)

        $.id('membershipStatus').innerHTML = activeIsGold ? `<span class="goldStatus">VIP Gold <span style="font-size: 1em">â˜…</span></span>` : `VIP`
        $.id('creditBalance').innerHTML = creditBalance + ` (Member ID: ${activeVIP})`
        $.id('creditBalanceRow').classList.remove('hidden')
      } else {
        $.id('membershipStatus').innerHTML = '<a href="./vip">Standard</a>'
        $.id('creditBalanceRow').classList.add('hidden')
      }



      const tributesPaid = await tributesPromise

      let tributeContent = ''
      let anyTributesPaid

      Object.keys(tributesPaid).sort((a, b) => tributesPaid[b] - tributesPaid[a]).map(d => {
        const tributes = tributesPaid[d]
        const tributesRounded = Math.floor(tributes * 10000000) / 10000000
        if (tributes > 0) {
          anyTributesPaid = true
          tributeContent += `
            <tr>
              <td style="font-size: 0.9em"><a href="./doms/${d}">${ellipse(d, 21)}</a></td>
              <td style="color: var(--medium-color)">${tributesRounded} ETH</td>
            </tr>
          `
        }
      })

      $.id('tributes').innerHTML = tributeContent
      $.id('tributeSection').classList.remove('hidden')

      if (!anyTributesPaid) {
        $.id('tributeTitle').classList.add('hidden')
      }
    })


  if (!ls.get('__enteredSite')) {
    window.location.replace('./enter')
  }


</script>


</html>