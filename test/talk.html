<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title></title>
</head>
<body>
  <main id="main"></main>

  <button onclick="window.speechSynthesis.cancel()">CANCEL</button>

</body>

<script type="text/javascript">
  let voices

const getVoices = () => {
  try {
    voices = window.speechSynthesis.getVoices()
    setTimeout(() => {
      if (!voices.length) getVoices()
      else {
        voices.forEach((v, i) => {
          document.getElementById('main').innerHTML += `
            <div>${i}<input type="checkbox"></input> <button onclick="speak(${i})">${v.name}</button> ${v.lang} -- ${v.voiceURI}</div>
          `
        })
      }
    }, 200)
  } catch(e) {
    console.log(e)
  }
}
getVoices()


function speak(i) {
  const utterance = new window.SpeechSynthesisUtterance(`hello, sexy paypig`)
  utterance.volume = 0.88
  utterance.voice = voices[i]
  window.speechSynthesis.speak(utterance)

}

//79

</script>
</html>

